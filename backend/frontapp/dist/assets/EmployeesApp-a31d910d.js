import{r as o,g as N,p as c,ak as E,al as f,am as C,j as s,Q as g,i as x,R as p,C as u,B as y,an as m,ao as k,aj as i,ap as j,aq as q,a1 as v,a2 as A,a3 as I,ar as L,as as P,at as R,au as S,L as T,I as b}from"./index-3201afaf.js";const O=o.memo(()=>{const l=N(),n=c(E),r=c(f),a=c(C),d=t=>{if(t.target.value.length>0){const e="query="+t.target.value;l(m({key:"query",query:e}))}};return s.jsxs(g,{className:"justify-content-between p-0 px-2 rounded mb-2 ",style:{height:"50px",backgroundColor:"#eeeeee"},children:[s.jsx(x,{children:s.jsxs(p,{children:[s.jsx(u,{xs:"auto",children:s.jsx(y,{onClick:()=>l(m({key:"init",query:""})),disabled:Object.keys(n).length===0,variant:"danger",size:"sm",className:"mx-1",children:s.jsx(k,{})})}),s.jsx(u,{xs:"auto",children:s.jsx(x.Control,{onChange:d,size:"sm",type:"text",placeholder:"Search",className:" mr-sm-2"})})]})}),s.jsx(x,{}),s.jsx("div",{className:" border",children:s.jsx(i,{className:"",children:(r==null?void 0:r.pages)&&Array.from({length:r==null?void 0:r.pages},(t,e)=>e+1).map((t,e)=>{if(t==1&&a>1)return s.jsx(i.Item,{className:"mx-1",active:t==a,onClick:()=>l(j({page:t})),children:"First"},e);if(t==a)return s.jsx(i.Item,{className:"mx-1",active:t==a,children:t},e);if(t<=a+2&&t>=a-2)return s.jsx(i.Item,{className:"mx-1",onClick:()=>l(j({page:t})),children:t},e);if(t==(r==null?void 0:r.pages))return s.jsx(i.Item,{className:"mx-1",onClick:()=>l(j({page:t})),children:"last"},e)})})})]})});const D=()=>{const l=N(),n=c(f),r=c(E),a=c(C),[d,t]=o.useState(!1);return o.useEffect(()=>{t(!0);let e="";for(let h in r)e+="&"+r[h];l(q({page:a,query:e})).then(()=>{t(!1)}).catch(h=>{t(!1)})},[a,r]),d?s.jsx(s.Fragment,{children:"Loding ..."}):n!=null&&n.results?s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-striped table-bordered mb-0",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:v}),s.jsx("th",{children:A}),s.jsx("th",{children:I}),s.jsx("th",{children:L}),s.jsx("th",{children:P}),s.jsx("th",{children:R}),s.jsx("th",{children:S}),s.jsx("th",{children:"ACTION"})]})}),s.jsx("tbody",{children:n.results&&n.results.map((e,h)=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("small",{children:e.matricule})}),s.jsx("td",{children:s.jsx("small",{children:e.nom})}),s.jsx("td",{children:s.jsx("small",{children:e.prenom})}),s.jsx("td",{children:s.jsx("small",{children:e.date_n})}),s.jsx("td",{children:s.jsx("small",{children:e.date_e})}),s.jsx("td",{children:s.jsx("small",{children:e.poste})}),s.jsx("td",{children:s.jsx("small",{children:e.direction.name})}),s.jsx("td",{children:s.jsx(T,{className:"btn btn-success btn-sm",to:`/employees/${e.matricule}/`,children:"View"})})]},e.id))})]})}):null},B=()=>s.jsx(b,{children:s.jsxs(b.Body,{children:[s.jsx(O,{}),s.jsx(D,{})]})});export{B as default};
