import{r as c,a as y,j as e,av as ae,c as b,aw as ie,ax as R,ay as K,az as F,aA as ce,aB as de,aC as M,aD as v,g as le,p as xe,aE as he,aF as me,aa as ue,a9 as je,ab as pe,ac as Ee,k as P,S,aG as ye,y as k,aH as be,I as f,aI as ve,a0 as fe,P as Ne,z as Ce,x as Ae,B as Te,aJ as ge,R as Oe,C as D}from"./index-3201afaf.js";import{T as g,N as C}from"./Nav-82233784.js";function H(t,n){return Array.isArray(t)?t.includes(n):t===n}const W=c.createContext({});W.displayName="AccordionContext";const O=W,L=c.forwardRef(({as:t="div",bsPrefix:n,className:o,children:s,eventKey:r,...a},i)=>{const{activeEventKey:d}=c.useContext(O);return n=y(n,"accordion-collapse"),e.jsx(ae,{ref:i,in:H(d,r),...a,className:b(o,n),children:e.jsx(t,{children:c.Children.only(s)})})});L.displayName="AccordionCollapse";const G=L,U=c.createContext({eventKey:""});U.displayName="AccordionItemContext";const _=U,V=c.forwardRef(({as:t="div",bsPrefix:n,className:o,onEnter:s,onEntering:r,onEntered:a,onExit:i,onExiting:d,onExited:l,...m},x)=>{n=y(n,"accordion-body");const{eventKey:h}=c.useContext(_);return e.jsx(G,{eventKey:h,onEnter:s,onEntering:r,onEntered:a,onExit:i,onExiting:d,onExited:l,children:e.jsx(t,{ref:x,...m,className:b(o,n)})})});V.displayName="AccordionBody";const Ie=V;function we(t,n){const{activeEventKey:o,onSelect:s,alwaysOpen:r}=c.useContext(O);return a=>{let i=t===o?null:t;r&&(Array.isArray(o)?o.includes(t)?i=o.filter(d=>d!==t):i=[...o,t]:i=[t]),s==null||s(i,a),n==null||n(a)}}const z=c.forwardRef(({as:t="button",bsPrefix:n,className:o,onClick:s,...r},a)=>{n=y(n,"accordion-button");const{eventKey:i}=c.useContext(_),d=we(i,s),{activeEventKey:l}=c.useContext(O);return t==="button"&&(r.type="button"),e.jsx(t,{ref:a,onClick:d,...r,"aria-expanded":Array.isArray(l)?l.includes(i):i===l,className:b(o,n,!H(l,i)&&"collapsed")})});z.displayName="AccordionButton";const Q=z,q=c.forwardRef(({as:t="h2",bsPrefix:n,className:o,children:s,onClick:r,...a},i)=>(n=y(n,"accordion-header"),e.jsx(t,{ref:i,...a,className:b(o,n),children:e.jsx(Q,{onClick:r,children:s})})));q.displayName="AccordionHeader";const Pe=q,J=c.forwardRef(({as:t="div",bsPrefix:n,className:o,eventKey:s,...r},a)=>{n=y(n,"accordion-item");const i=c.useMemo(()=>({eventKey:s}),[s]);return e.jsx(_.Provider,{value:i,children:e.jsx(t,{ref:a,...r,className:b(o,n)})})});J.displayName="AccordionItem";const Be=J,Y=c.forwardRef((t,n)=>{const{as:o="div",activeKey:s,bsPrefix:r,className:a,onSelect:i,flush:d,alwaysOpen:l,...m}=ie(t,{activeKey:"onSelect"}),x=y(r,"accordion"),h=c.useMemo(()=>({activeEventKey:s,onSelect:i,alwaysOpen:l}),[s,i,l]);return e.jsx(O.Provider,{value:h,children:e.jsx(o,{ref:n,...m,className:b(a,x,d&&`${x}-flush`)})})});Y.displayName="Accordion";const A=Object.assign(Y,{Button:Q,Collapse:G,Item:Be,Header:Pe,Body:Ie}),Ke=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_e=["activeKey","getControlledId","getControllerId"],$e=["as"];function B(t,n){if(t==null)return{};var o={},s=Object.keys(t),r,a;for(a=0;a<s.length;a++)r=s[a],!(n.indexOf(r)>=0)&&(o[r]=t[r]);return o}function X(t){let{active:n,eventKey:o,mountOnEnter:s,transition:r,unmountOnExit:a,role:i="tabpanel",onEnter:d,onEntering:l,onEntered:m,onExit:x,onExiting:h,onExited:u}=t,j=B(t,Ke);const p=c.useContext(g);if(!p)return[Object.assign({},j,{role:i}),{eventKey:o,isActive:n,mountOnEnter:s,transition:r,unmountOnExit:a,onEnter:d,onEntering:l,onEntered:m,onExit:x,onExiting:h,onExited:u}];const{activeKey:E,getControlledId:N,getControllerId:I}=p,w=B(p,_e),$=R(o);return[Object.assign({},j,{role:i,id:N(o),"aria-labelledby":I(o)}),{eventKey:o,isActive:n==null&&$!=null?R(E)===$:n,transition:r||w.transition,mountOnEnter:s??w.mountOnEnter,unmountOnExit:a??w.unmountOnExit,onEnter:d,onEntering:l,onEntered:m,onExit:x,onExiting:h,onExited:u}]}const Z=c.forwardRef((t,n)=>{let{as:o="div"}=t,s=B(t,$e);const[r,{isActive:a,onEnter:i,onEntering:d,onEntered:l,onExit:m,onExiting:x,onExited:h,mountOnEnter:u,unmountOnExit:j,transition:p=F}]=X(s);return e.jsx(g.Provider,{value:null,children:e.jsx(K.Provider,{value:null,children:e.jsx(p,{in:a,onEnter:i,onEntering:d,onEntered:l,onExit:m,onExiting:x,onExited:h,mountOnEnter:u,unmountOnExit:j,children:e.jsx(o,Object.assign({},r,{ref:n,hidden:!a,"aria-hidden":!a}))})})})});Z.displayName="TabPanel";const ee=t=>{const{id:n,generateChildId:o,onSelect:s,activeKey:r,defaultActiveKey:a,transition:i,mountOnEnter:d,unmountOnExit:l,children:m}=t,[x,h]=ce(r,a,s),u=de(n),j=c.useMemo(()=>o||((E,N)=>u?`${u}-${N}-${E}`:null),[u,o]),p=c.useMemo(()=>({onSelect:h,activeKey:x,transition:i,mountOnEnter:d||!1,unmountOnExit:l||!1,getControlledId:E=>j(E,"tabpane"),getControllerId:E=>j(E,"tab")}),[h,x,i,d,l,j]);return e.jsx(g.Provider,{value:p,children:e.jsx(K.Provider,{value:h||null,children:m})})};ee.Panel=Z;const Re=ee;function ne(t){return typeof t=="boolean"?t?M:F:t}const te=({transition:t,...n})=>e.jsx(Re,{...n,transition:ne(t)});te.displayName="TabContainer";const Se=te,se=c.forwardRef(({className:t,bsPrefix:n,as:o="div",...s},r)=>(n=y(n,"tab-content"),e.jsx(o,{ref:r,className:b(t,n),...s})));se.displayName="TabContent";const De=se,oe=c.forwardRef(({bsPrefix:t,transition:n,...o},s)=>{const[{className:r,as:a="div",...i},{isActive:d,onEnter:l,onEntering:m,onEntered:x,onExit:h,onExiting:u,onExited:j,mountOnEnter:p,unmountOnExit:E,transition:N=M}]=X({...o,transition:ne(n)}),I=y(t,"tab-pane");return e.jsx(g.Provider,{value:null,children:e.jsx(K.Provider,{value:null,children:e.jsx(N,{in:d,onEnter:l,onEntering:m,onEntered:x,onExit:h,onExiting:u,onExited:j,mountOnEnter:p,unmountOnExit:E,children:e.jsx(a,{...i,ref:s,className:b(r,I,d&&"active")})})})})});oe.displayName="TabPane";const Fe=oe,Me={eventKey:v.oneOfType([v.string,v.number]),title:v.node.isRequired,disabled:v.bool,tabClassName:v.string,tabAttrs:v.object},re=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};re.propTypes=Me;const T=Object.assign(re,{Container:Se,Content:De,Pane:Fe}),ke=({facilite:t})=>e.jsxs("div",{className:"table-responsive p-2",children:[e.jsxs("table",{className:"table table-bordered  mb-5",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{minWidth:"80px"},children:ue}),e.jsx("th",{children:je}),e.jsx("th",{children:pe}),e.jsx("th",{children:Ee}),e.jsx("th",{children:P}),e.jsx("th",{children:S}),e.jsx("th",{children:"ACTION"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{minWidth:"100px"},children:t.date_achat}),e.jsx("td",{children:t.duree}),e.jsx("td",{children:t.montant}),e.jsx("td",{children:t.solde}),e.jsx("td",{children:t.observation}),e.jsx("td",{children:t.is_completed}),e.jsx("td",{children:e.jsx("a",{href:"#",children:e.jsx("i",{className:"badge-circle badge-circle-light-secondary font-medium-1","data-feather":"mail"})})})]})})]}),e.jsxs("table",{className:"table table-bordered  mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{minWidth:"100px !important"},children:ye}),e.jsx("th",{style:{minWidth:"100px !important"},children:k}),e.jsx("th",{style:{minWidth:"100px"},children:S}),e.jsx("th",{style:{minWidth:"100px"},children:P}),e.jsx("th",{style:{minWidth:"100px"},children:"ACTION"})]})}),e.jsx("tbody",{children:t.timelines&&t.timelines.map(n=>e.jsxs("tr",{children:[e.jsx("td",{children:n.somme}),e.jsx("td",{children:n.mois}),e.jsx("td",{children:n.is_commited}),e.jsx("td",{children:n.observation}),e.jsx("td",{children:e.jsx("a",{href:"#",children:e.jsx("i",{className:"badge-circle badge-circle-light-secondary font-medium-1","data-feather":"mail"})})})]},n.id))})]})]}),He=c.memo(({matricule:t})=>{console.log("render Employee Facilite");const n=le(),o=xe(he);return c.useEffect(()=>{t&&n(me(t)).then(()=>{}).catch(s=>{})},[t]),o!=null&&o.results?e.jsx(e.Fragment,{children:e.jsx(A,{defaultActiveKey:"0",children:o.results&&o.results.map(s=>e.jsxs(A.Item,{eventKey:`acc${s.id}`,className:"mb-3",children:[e.jsx(A.Header,{children:s.date_achat}),e.jsx(A.Body,{children:e.jsx(ke,{facilite:s},s.id)})]}))})}):e.jsx("div",{children:" No results"})}),We=c.memo(({matricule:t})=>{const{data:n}=be(t);return n?e.jsx(f,{className:"shadow-sm border border-primary rounded-0",children:e.jsxs(f.Body,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"fw-bold",children:"Matricule:"})," ",n.matricule]}),e.jsxs("p",{children:[e.jsx("span",{className:"fw-bold",children:"Nom:"})," ",n.nom]}),e.jsxs("p",{children:[e.jsx("span",{className:"fw-bold",children:"Prenom:"})," ",n.prenom]}),e.jsxs("p",{children:[e.jsx("span",{className:"fw-bold",children:"Date N:"})," ",n.date_n]}),e.jsxs("p",{children:[e.jsx("span",{className:"fw-bold",children:"Date Entrer:"})," ",n.date_e]}),e.jsxs("p",{children:[e.jsx("span",{className:"fw-bold",children:"Poste:"})," ",n.poste]}),e.jsxs("p",{children:[e.jsx("span",{className:"fw-bold",children:"fin de contract:"})," ",n.fin_contrat]}),e.jsxs("p",{children:[e.jsx("span",{className:"fw-bold",children:"Type Contract:"})," ",n.type_contrat]}),e.jsxs("p",{children:[e.jsx("span",{className:"fw-bold",children:"Direction:"})," ",n.direction.name]})]})}):null}),Le=({matricule:t})=>{const{data:n,isLoading:o}=ve(t);return o?e.jsx(fe,{}):(console.log(n),e.jsx(f,{children:e.jsx(f.Body,{children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:Ne}),e.jsx("th",{children:k}),e.jsx("th",{children:Ce}),e.jsx("th",{children:Ae}),e.jsx("th",{children:P}),e.jsx("th",{children:"ACTION"})]})}),e.jsx("tbody",{children:n.results&&n.results.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:s.prime_type.name}),e.jsx("td",{children:s.date_f}),e.jsx("td",{children:s.date_r}),e.jsx("td",{children:s.montant}),e.jsx("td",{children:s.observation}),e.jsx("td",{children:e.jsx(Te,{children:"Edit"})})]},s.id))})]})})})}))},Ve=()=>{console.log("render Employee Detail");const{matricule:t}=ge();return e.jsx(e.Fragment,{children:e.jsxs(T.Container,{id:"left-tabs-example",defaultActiveKey:"facilities",children:[e.jsxs(C,{variant:"pills",className:"mb-2",children:[e.jsx(C.Item,{className:"rounded-0",children:e.jsx(C.Link,{className:"rounded-0",eventKey:"facilities",children:"Facilities"})}),e.jsx(C.Item,{children:e.jsx(C.Link,{className:"rounded-0",eventKey:"primes",children:"Primes"})})]}),e.jsxs(Oe,{children:[e.jsx(D,{xs:{span:3},children:e.jsx(We,{matricule:t||""})}),e.jsx(D,{sm:9,children:e.jsx(f,{className:"shadow-sm border border-primary rounded-0",children:e.jsx(f.Body,{children:e.jsxs(T.Content,{children:[e.jsx(T.Pane,{eventKey:"facilities",children:e.jsx(He,{matricule:Number(t)})}),e.jsx(T.Pane,{eventKey:"primes",children:e.jsx(Le,{matricule:Number(t)})})]})})})})]})]})})};export{Ve as default};
